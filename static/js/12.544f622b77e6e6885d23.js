webpackJsonp([12],{ie7M:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Fd2+"),a={name:"Topic",data:function(){return{options1:[],value1:"",options2:[{value:1,label:"加减"},{value:2,label:"乘除"},{value:3,label:"加减乘除"}],value2:"",options3:[],value3:"",options4:[],value4:"",radio:"",remainingTime:"",beginAnswer:!1,timer:null,isSuspend:!1,nowDate:"",lastDate:"",symbolLsit1:["+","-"],symbolLsit2:["×","÷"],topicLsit:[],isAccomplish:!1,isDec:!1,rightNum:0}},computed:{},watch:{},methods:{confirm:function(){var t=this;if(!this.value1)return Object(s.a)({message:"请选择范围",confirmButtonColor:"#39f"});if(!this.value2)return Object(s.a)({message:"请选择算法",confirmButtonColor:"#39f"});if(!this.value3)return Object(s.a)({message:"请选择数量",confirmButtonColor:"#39f"});if(this.radio&&!this.value4)return Object(s.a)({message:"请选择时间",confirmButtonColor:"#39f"});if(this.topicLsit=[],this.isAccomplish=!1,this.isSuspend=!1,this.rightNum=0,1==this.value2)for(var e=0;e<this.value3;e++)this.topicLsit.push(this.getTopic1());if(2==this.value2)for(var i=0;i<this.value3;i++)this.topicLsit.push(this.getTopic2());if(3==this.value2)for(var a=[this.getTopic1,this.getTopic2],n=0;n<this.value3;n++)this.topicLsit.push(a[this.getRandom(1)]());this.radio&&this.value4&&(this.nowDate=Date.now(),this.lastDate=this.nowDate+60*+this.value4*1e3,this.timer=setInterval(function(){t.timing(t.nowDate,t.lastDate),t.lastDate-=1e3},1e3)),this.beginAnswer=!0},check:function(){var t=this;this.suspend();var e=!1;if(this.topicLsit.forEach(function(t){t.answer.trim()||(e=!0)}),e)return s.a.confirm({title:"提示",message:"有题目未做完哦，是否提交"}).then(function(){t.accomplish()}).catch(function(){t.suspend()});this.accomplish()},accomplish:function(){var t=this;this.isAccomplish=!0,this.beginAnswer=!1,this.remainingTime="",clearInterval(this.timer),this.topicLsit.forEach(function(e){"+"==e.sym&&(e.correct=(e.num1+e.num2).toString()===e.answer,e.correct&&t.rightNum++,e.rightAnswers=e.num1+e.num2),"-"==e.sym&&(e.correct=(e.num1-e.num2).toString()===e.answer,e.correct&&t.rightNum++,e.rightAnswers=e.num1-e.num2),"×"==e.sym&&(e.correct=(e.num1*e.num2).toString()===e.answer,e.correct&&t.rightNum++,e.rightAnswers=e.num1*e.num2),"÷"==e.sym&&(e.correct=(e.num1/e.num2).toString()===e.answer,e.correct&&t.rightNum++,e.rightAnswers=e.num1/e.num2)})},getTopic1:function(){var t=this.symbolLsit1[this.getRandom(1)],e=void 0,i=void 0;if("+"===t?(e=this.getRandom(this.value1/2),i=this.getRandom(this.value1/2)):(e=this.getRandom(this.value1),i=this.getRandom(this.value1)),i>e){var s=[i,e];e=s[0],i=s[1]}return{num1:e,num2:i,sym:t,answer:"",correct:!1}},getTopic2:function(){var t=this.symbolLsit2[this.getRandom(1)],e=void 0,i=void 0,s=this.getRandom(this.value1,this.value1,t);if(e=s.random1,(i=s.random2)>e){var a=[i,e];e=a[0],i=a[1]}return{num1:e,num2:i,sym:t,answer:"",correct:!1}},suspend:function(){var t=this;this.isSuspend=!this.isSuspend,this.isSuspend?clearInterval(this.timer):this.timer=setInterval(function(){t.timing(t.nowDate,t.lastDate),t.lastDate-=1e3},1e3)},timing:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,i=new Date(t).getTime(),s=(new Date(e).getTime()-i)/1e3;s<=0&&clearInterval(this.timer);var a=this.patch(s/60),n=this.patch(s%60);this.remainingTime=a+"分"+n+"秒"},patch:function(t){return+(t=parseInt(t))<=0?"00":+t<10?"0"+t:t},initData:function(){for(var t=0;t<100;t++)(t+1)%10==0&&(this.options3.push({value:t+1,label:t+1+"道"}),this.options1.push({value:t+1,label:t+1+"以内"})),(t+1)%5==0&&this.options4.push({value:t+1,label:t+1+"分钟"})},getRandom:function(t,e,i){if("×"==i){var s=Math.round(Math.random()*t),a=Math.round(Math.random()*t);return s*a>e?this.getRandom(t,e,i):{random1:s,random2:a}}if("÷"==i){var n=Math.round(Math.random()*t),r=Math.round(Math.random()*t);if(r>n){var o=[r,n];n=o[0],r=o[1]}return this.isDec||n/r%1==0?{random1:n,random2:r}:this.getRandom(t,e,i)}return Math.round(Math.random()*t)}},mounted:function(){this.initData()}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Topic"},[i("header",[i("div",{staticClass:"title"},[t._v("小学生习题测试")]),t._v(" "),t.radio&&t.beginAnswer?i("div",{staticClass:"title-date"},[t._v("剩余时间:"+t._s(t.remainingTime))]):t._e(),t._v(" "),t.isAccomplish?i("div",{staticClass:"title-date"},[t._v("\n            答对: "),i("span",{staticStyle:{"font-weight":"800",color:"rgb(6, 167, 6)"}},[t._v(t._s(t.rightNum))]),t._v(" 题 \n            答错: "),i("span",{staticStyle:{"font-weight":"800",color:"rgb(219, 14, 14)"}},[t._v(t._s(t.value3-t.rightNum))]),t._v(" 题\n        ")]):t._e()]),t._v(" "),i("div",{staticClass:"topic-select"},[i("div",[i("label",{attrs:{for:""}},[t._v("范围:")]),t._v(" "),i("el-select",{attrs:{placeholder:"请选择",disabled:t.beginAnswer},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},t._l(t.options1,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("div",[i("label",{attrs:{for:""}},[t._v("算法:")]),t._v(" "),i("el-select",{attrs:{placeholder:"请选择",disabled:t.beginAnswer},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.options2,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("div",[i("label",{attrs:{for:""}},[t._v("数量:")]),t._v(" "),i("el-select",{attrs:{placeholder:"请选择",disabled:t.beginAnswer},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}},t._l(t.options3,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("div",[i("label",{staticClass:"norequired",attrs:{for:""}},[t._v("计时:")]),t._v(" "),i("el-radio",{attrs:{label:0,disabled:t.beginAnswer},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("否")]),t._v(" "),i("el-radio",{attrs:{label:1,disabled:t.beginAnswer},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("是")])],1),t._v(" "),t.radio?i("div",[i("label",{attrs:{for:""}},[t._v("时间:")]),t._v(" "),i("el-select",{attrs:{placeholder:"请选择",disabled:t.beginAnswer},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(t.options4,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1):t._e(),t._v(" "),i("div",[t.radio&&t.beginAnswer?i("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.suspend()}}},[t._v(t._s(t.isSuspend?"继续":"暂停"))]):t._e(),t._v(" "),t.beginAnswer?i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.check()}}},[t._v("完成")]):i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.confirm()}}},[t._v("确认")])],1)]),t._v(" "),i("div",{staticClass:"topic-content"},t._l(t.topicLsit,function(e,s){return i("div",{key:s},[i("span",[t._v(t._s(s+1)+".")]),t._v("\n            "+t._s(e.num1)+" "+t._s(e.sym)+" "+t._s(e.num2)+" = \n            "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"v.answer"}],attrs:{type:"text",disabled:t.isSuspend},domProps:{value:e.answer},on:{input:function(i){i.target.composing||t.$set(e,"answer",i.target.value)}}}),t._v(" "),t.isAccomplish&&e.correct?i("span",{staticClass:"check el-icon-check"}):t._e(),t._v(" "),t.isAccomplish&&!e.correct?i("span",{staticClass:"close el-icon-close"}):t._e(),t._v(" "),t.isAccomplish&&!e.correct?i("span",{staticClass:"rightAnswers"},[t._v(t._s(e.rightAnswers))]):t._e()])])}),0)])},staticRenderFns:[]};var r=i("VU/8")(a,n,!1,function(t){i("qo9j")},null,null);e.default=r.exports},qo9j:function(t,e){}});
//# sourceMappingURL=12.544f622b77e6e6885d23.js.map